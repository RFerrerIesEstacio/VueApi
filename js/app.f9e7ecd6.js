(function(){"use strict";var o={200:function(o,r,a){var i=a(963),t=a(252);const e={id:"app",class:"container"},s=(0,t._)("div",{class:"row"},[(0,t._)("div",{class:"col-md-12 mt-2"},[(0,t._)("h1",null,"Usuarios")])],-1),n={class:"row"},u={class:"col-md-12"};function l(o,r,a,i,l,c){const d=(0,t.up)("formulario-usuario"),m=(0,t.up)("tabla-usuarios");return(0,t.wg)(),(0,t.iD)("div",e,[s,(0,t.Wm)(d,{onCrearUsuario:c.postUsuario},null,8,["onCrearUsuario"]),(0,t._)("div",n,[(0,t._)("div",u,[(0,t.Wm)(m,{usuarios:l.usuarios,onEliminarUsuario:c.deleteUsuario,onActualizarUsuario:c.putUsuario},null,8,["usuarios","onEliminarUsuario","onActualizarUsuario"])])])])}var c=a(577);const d={id:"tabla-usuarios"},m={key:0,class:"alert alert-info",role:"alert"},h={class:"table"},p=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Nombre"),(0,t._)("th",null,"Email"),(0,t._)("th",null,"Acciones")])],-1),f={key:0},v=["onUpdate:modelValue"],y={key:1},b={key:2},g=["onUpdate:modelValue"],_={key:3},w={key:4},U=["onClick"],k=["onClick"],E={key:5},j=["onClick"],C=["onClick"];function D(o,r,a,e,s,n){return(0,t.wg)(),(0,t.iD)("div",d,[a.usuarios.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",m," No se han agregado usuarios ")),(0,t._)("table",h,[p,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.usuarios,(r=>((0,t.wg)(),(0,t.iD)("tr",{key:r.id},[s.editando===r.id?((0,t.wg)(),(0,t.iD)("td",f,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>r.name=o},null,8,v),[[i.nr,r.name]])])):((0,t.wg)(),(0,t.iD)("td",y,(0,c.zw)(r.name),1)),s.editando===r.id?((0,t.wg)(),(0,t.iD)("td",b,[(0,t.wy)((0,t._)("input",{type:"email",class:"form-control","onUpdate:modelValue":o=>r.email=o},null,8,g),[[i.nr,r.email]])])):((0,t.wg)(),(0,t.iD)("td",_,(0,c.zw)(r.email),1)),s.editando===r.id?((0,t.wg)(),(0,t.iD)("td",w,[(0,t._)("button",{class:"btn btn-success",onClick:o=>n.guardarUsuario(r)},"💾 Guardar",8,U),(0,t._)("button",{class:"btn btn-secondary ml-2",onClick:o=>n.cancelarEdicion(r)},"❌ Cancelar",8,k)])):((0,t.wg)(),(0,t.iD)("td",E,[(0,t._)("button",{class:"btn btn-info",onClick:o=>n.editarUsuario(r)},"✏️ Editar",8,j),(0,t._)("button",{class:"btn btn-danger ml-2",onClick:a=>o.$emit("eliminar-usuario",r)},"🗑️ Eliminar",8,C)]))])))),128))])])])}var O={name:"tabla-usuarios",props:{usuarios:Array},data(){return{editando:null}},methods:{editarUsuario(o){this.usuarioEditado=Object.assign({},o),this.editando=o.id},guardarUsuario(o){o.name.length&&o.email.length&&(this.$emit("actualizar-usuario",o),this.editando=null)},cancelarEdicion(o){Object.assign(o,this.usuarioEditado),this.editando=null}}},F=a(744);const T=(0,F.Z)(O,[["render",D]]);var x=T;const I={id:"formulario-usuario"},V={class:"container"},$={class:"row"},z={class:"col-md-4"},A={class:"form-group"},N=(0,t._)("label",null,"Nombre",-1),P={class:"col-md-4"},S={class:"form-group"},q=(0,t._)("label",null,"Email",-1),Z=(0,t._)("div",{class:"row"},[(0,t._)("div",{class:"col-md-4"},[(0,t._)("div",{class:"form-group"},[(0,t._)("button",{class:"btn btn-primary"},"Añadir usuario")])])],-1),J={class:"container"},K={class:"row"},W={class:"col-md-12"},G={key:0,class:"alert alert-danger",role:"alert"},H={key:1,class:"alert alert-success",role:"alert"};function L(o,r,a,e,s,n){return(0,t.wg)(),(0,t.iD)("div",I,[(0,t._)("form",{onSubmit:r[5]||(r[5]=(0,i.iM)(((...o)=>n.enviarFormulario&&n.enviarFormulario(...o)),["prevent"]))},[(0,t._)("div",V,[(0,t._)("div",$,[(0,t._)("div",z,[(0,t._)("div",A,[N,(0,t.wy)((0,t._)("input",{ref:"name","onUpdate:modelValue":r[0]||(r[0]=o=>s.usuario.name=o),type:"text",class:(0,c.C_)(["form-control",{"is-invalid":s.procesando&&n.nameInvalido}]),onFocus:r[1]||(r[1]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:r[2]||(r[2]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[i.nr,s.usuario.name]])])]),(0,t._)("div",P,[(0,t._)("div",S,[q,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[3]||(r[3]=o=>s.usuario.email=o),type:"email",class:(0,c.C_)([{"is-invalid":s.procesando&&n.emailInvalido},"form-control"]),onFocus:r[4]||(r[4]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[i.nr,s.usuario.email]])])])]),Z]),(0,t._)("div",J,[(0,t._)("div",K,[(0,t._)("div",W,[s.error&&s.procesando?((0,t.wg)(),(0,t.iD)("div",G," Debes rellenar todos los campos! ")):(0,t.kq)("",!0),s.correcto?((0,t.wg)(),(0,t.iD)("div",H," El usuario ha sido agregado correctamente! ")):(0,t.kq)("",!0)])])])],32)])}var M={name:"formulario-usuario",data(){return{procesando:!1,correcto:!1,error:!1,usuario:{name:"",email:""}}},methods:{enviarFormulario(){this.procesando=!0,this.resetEstado(),this.nameInvalido||this.emailInvalido?this.error=!0:(this.$emit("crear-usuario",this.usuario),this.$refs.name.focus(),this.error=!1,this.correcto=!0,this.procesando=!1,this.usuario={name:"",email:""})},resetEstado(){this.correcto=!1,this.error=!1}},computed:{nameInvalido(){return this.usuario.name.length<1},emailInvalido(){return this.usuario.email.length<1}}};const Y=(0,F.Z)(M,[["render",L]]);var B=Y,Q={name:"app",components:{TablaUsuarios:x,FormularioUsuario:B},data(){return{usuarios:[]}},methods:{async getUsuarios(){try{const o=await fetch("https://jsonplaceholder.typicode.com/users");this.usuarios=await o.json()}catch(o){console.error(o)}},async postUsuario(o){try{const r=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),a=await r.json();this.usuarios=[...this.usuarios,a]}catch(r){console.error(r)}},async putUsuario(o){try{const r=await fetch(`https://jsonplaceholder.typicode.com/users/${o.id}`,{method:"PUT",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),a=await r.json();this.usuarios=this.usuarios.map((r=>r.id===o.id?a:r))}catch(r){console.error(r)}},async deleteUsuario(o){try{await fetch(`https://jsonplaceholder.typicode.com/usuarios/${o.id}`,{method:"DELETE"}),this.usuarios=this.usuarios.filter((r=>r.id!==o.id))}catch(r){console.error(r)}}},mounted(){this.getUsuarios()}};const R=(0,F.Z)(Q,[["render",l]]);var X=R;(0,i.ri)(X).mount("#app")}},r={};function a(i){var t=r[i];if(void 0!==t)return t.exports;var e=r[i]={exports:{}};return o[i](e,e.exports,a),e.exports}a.m=o,function(){var o=[];a.O=function(r,i,t,e){if(!i){var s=1/0;for(c=0;c<o.length;c++){i=o[c][0],t=o[c][1],e=o[c][2];for(var n=!0,u=0;u<i.length;u++)(!1&e||s>=e)&&Object.keys(a.O).every((function(o){return a.O[o](i[u])}))?i.splice(u--,1):(n=!1,e<s&&(s=e));if(n){o.splice(c--,1);var l=t();void 0!==l&&(r=l)}}return r}e=e||0;for(var c=o.length;c>0&&o[c-1][2]>e;c--)o[c]=o[c-1];o[c]=[i,t,e]}}(),function(){a.d=function(o,r){for(var i in r)a.o(r,i)&&!a.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:r[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){a.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)}}(),function(){var o={143:0};a.O.j=function(r){return 0===o[r]};var r=function(r,i){var t,e,s=i[0],n=i[1],u=i[2],l=0;if(s.some((function(r){return 0!==o[r]}))){for(t in n)a.o(n,t)&&(a.m[t]=n[t]);if(u)var c=u(a)}for(r&&r(i);l<s.length;l++)e=s[l],a.o(o,e)&&o[e]&&o[e][0](),o[e]=0;return a.O(c)},i=self["webpackChunkproyecto_vue_2"]=self["webpackChunkproyecto_vue_2"]||[];i.forEach(r.bind(null,0)),i.push=r.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(200)}));i=a.O(i)})();
//# sourceMappingURL=app.f9e7ecd6.js.map